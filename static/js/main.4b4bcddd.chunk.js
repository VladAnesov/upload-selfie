(this["webpackJsonpshvets-score"]=this["webpackJsonpshvets-score"]||[]).push([[0],{158:function(e,t,a){e.exports=a(244)},243:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);a(159),a(185),a(187),a(188),a(190),a(191),a(192),a(193),a(194),a(195),a(196),a(197),a(199),a(200),a(201),a(202),a(203),a(204),a(205),a(206),a(207),a(208),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227);var n=a(0),i=a.n(n),s=a(82),r=a.n(s),l=a(55),c=a(83),o=a(84),u=a(99),p=a(85),m=a(100),h=a(17),d=a(97),f=a.n(d),v=a(98),g=a.n(v),b=a(25),S=a.n(b),w=(a(81),a(243),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).apiRequest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{showSpinner:!0};return n.showSpinner&&a.setState({popout:i.a.createElement(h.i,null)}),a.props.apiRequest(e,t,n).then((function(e){return n.showSpinner&&a.setState({popout:null}),e})).catch((function(){n.showSpinner&&a.setState({popout:null})}))},a.connectListener=function(e){var t=e.detail,n=t.type,i=t.data;switch(n){case"VKWebAppUpdateConfig":var s=i.scheme,r=i.appearance,l=i.app,c=i.start_time,o={scheme:s,app:l},u=document.createAttribute("scheme");u.value=s||"client_light",document.body.attributes.setNamedItem(u),c&&null===a.state.startTime&&(o.startTime=parseInt(c)),a.setAppViewSettings(r);break;case"VKWebAppGetClientVersionResult":var p=i.version;a.setState({clientVersion:p});break;case"VKWebAppAccessTokenFailed":a.sendBridgeRequest("VKWebAppClose",{status:"error",text:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d"})}},a.goBack=function(){var e=Object(l.a)(a.state.history);e.pop();var t=e[e.length-1];"main"===t&&a.sendBridgeRequest("VKWebAppDisableSwipeBack"),a.setState({history:e,activePanel:t})},a.goForward=function(e){var t=Object(l.a)(a.state.history);t.push(e),"main"===a.state.activePanel&&a.sendBridgeRequest("VKWebAppEnableSwipeBack"),a.setState({history:t,activePanel:e})},a.state={activePanel:"main",history:["main"],file:"",imagePreviewUrl:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){S.a.subscribe(this.connectListener),this.sendBridgeRequest("VKWebAppInit"),this.sendBridgeRequest("VKWebAppGetClientVersion")}},{key:"setAppViewSettings",value:function(e){S.a.send("VKWebAppSetViewSettings",{status_bar_style:"light"===e?"dark":"light"})}},{key:"closeApp",value:function(){this.sendBridgeRequest("VKWebAppClose")}},{key:"sendBridgeRequest",value:function(e,t){console.log("[VK Bridge] Send: "+e),S.a.send(e,t).then((function(t){console.log("[VK Bridge] response "+e),console.log(t)}))}},{key:"_handleSubmit",value:function(e){e.preventDefault(),console.log("handle uploading-",this.state.file)}},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];a.onloadend=function(){t.setState({file:n,imagePreviewUrl:a.result}),t.setState({images:[t.state.file,t.state.imagePreviewUrl]})},a.readAsDataURL(n),this.goForward("selfiePreview")}},{key:"deleteSelfie",value:function(){this.goBack(),this.setState({file:null,imagePreviewUrl:null}),this.setState({images:[this.state.file,this.state.imagePreviewUrl]})}},{key:"render",value:function(){var e=this,t=this.state.imagePreviewUrl,a=null;return a=t?i.a.createElement("img",{alt:"Selfie preview",src:t}):i.a.createElement("div",{className:"previewText"},"Please select an Image for Preview"),i.a.createElement(h.c,{isWebView:!0},i.a.createElement(h.k,{onSwipeBack:this.goBack,history:this.state.history,activePanel:this.state.activePanel,header:!1},i.a.createElement(h.f,{id:"main",separator:!1},i.a.createElement(h.h,null,"Shvets-Score"),i.a.createElement(h.e,null,i.a.createElement("form",{onSubmit:function(t){return e._handleSubmit(t)}},i.a.createElement("input",{className:"fileInput",type:"file",id:"selfieInput",onChange:function(t){return e._handleImageChange(t)},accept:"image/*",capture:!0}),i.a.createElement("button",{className:"submitButton",type:"submit",id:"selfieSubmit",onClick:function(t){return e._handleSubmit(t)}}),i.a.createElement("label",{htmlFor:"selfieInput"},i.a.createElement(h.b,{expandable:!0,before:i.a.createElement(f.a,null)},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u043b\u0444\u0438"))))),i.a.createElement(h.f,{id:"selfiePreview",separator:!1},i.a.createElement(h.h,{separator:!1,left:i.a.createElement(h.g,{onClick:function(){return e.deleteSelfie()}})},"Shvets-Preview"),i.a.createElement("div",{className:"imgPreview"},a),i.a.createElement(h.d,{vertical:"bottom"},i.a.createElement(h.j,{wide:!0}),i.a.createElement("label",{htmlFor:"selfieSubmit"},i.a.createElement("div",{className:"upload_btn"},i.a.createElement(h.a,{size:"xl",before:i.a.createElement(g.a,null)},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0435\u043b\u0444\u0438"))))),i.a.createElement(h.f,{id:"education",separator:!1})))}}]),t}(n.Component));r.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.4b4bcddd.chunk.js.map